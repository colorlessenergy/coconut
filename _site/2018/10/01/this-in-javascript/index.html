<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- seo -->
    <meta name="description" content="this refers to a object that set is at the creation of a new execution context. Front End web development - coconut">

    <meta property="og:title" content="this in JavaScript · Front End web development - coconut">
    <meta property="og:type" content="website">
    <meta property="og:description" content="this refers to a object that set is at the creation of a new execution context. Front End web development - coconut">
    <title>
      
        this in JavaScript · Front End web development - coconut
      
    </title>


    <meta itemprop="keywords" content="javascript" />
    
    <meta property="article:tag" content="javascript">
    

    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body>
    <main>
      <div >
  <nav>
    <h3> <a href="/">home</a> </h3>
    <ul>
      <li> <a href="/courses">courses</a> </li>
      <li> <a href="/blog">Blog</a> </li>
      <li> <a href="/contact">contact</a> </li>
    </ul>
  </nav>
</div>

      <div class="contain-proj">
  <section class="proj">
    <div class="proj__contain">
      <h1 id="this-in-javascript">this in JavaScript</h1>

<p>This refers to a object that set at the creation of a new
execution context. this reference object invoked on. If it is called on the global context it is referred to the global object.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">whatIsThis</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">whatIsThis</span><span class="p">();</span>
  <span class="c1">// will log the window object</span>
</code></pre></div></div>

<p>Everything is invoked on the global object.</p>

<p>Everything that is defined is stuck on the global object that is why
this refers to the window / global object.</p>

<p>If the function is called as a method of an object
‘this’ is bound to the object the method is called on.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
 <span class="na">firstName</span><span class="p">:</span> <span class="s1">'brian'</span><span class="p">,</span>
 <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Munoz'</span><span class="p">,</span>
 <span class="na">greet</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'hi, '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="nx">person</span><span class="p">.</span><span class="nx">greet</span><span class="p">();</span>
 <span class="c1">// will log hi, brian</span>
</code></pre></div></div>

<p>When calling the greet function on person this becomes the person object because it was called on person.</p>

<h2 id="reassign-this">reassign this</h2>

<p>You can reassign what this is by using <span class="highlight__code">bind</span>, <span class="highlight__code">apply()</span> or <span class="highlight__code">call()</span>. They each have subtle differences. You can also use these methods to use a object functions to be called on a different object.</p>

<ul>
  <li>bind returns a new function with this bound</li>
  <li>call calls the function with this bound and arguments</li>
  <li>apply calls the function with this bound and array of arguments</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
 <span class="na">firstName</span><span class="p">:</span> <span class="s1">'brian'</span><span class="p">,</span>
 <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Munoz'</span><span class="p">,</span>
 <span class="na">whatIsThis</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);},</span>
 <span class="na">greet</span><span class="p">:</span>
  <span class="kd">function</span> <span class="p">(</span><span class="nx">whatosay</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">whatosay</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="nx">person</span><span class="p">.</span><span class="nx">whatIsThis</span><span class="p">();</span>
  <span class="c1">// will log the person object</span>

<span class="nx">person</span><span class="p">.</span><span class="nx">greet</span><span class="p">(</span><span class="s1">'hi'</span><span class="p">)</span>
  <span class="c1">// will log hi brian</span>

<span class="kd">var</span> <span class="nx">student</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Daniel'</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1">// returns function with this bounded</span>
<span class="kd">var</span> <span class="nx">studentGreet</span> <span class="o">=</span> <span class="nx">person</span><span class="p">.</span><span class="nx">greet</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">student</span><span class="p">,</span> <span class="s1">'hi'</span><span class="p">);</span>
<span class="nx">studentGreet</span><span class="p">();</span>
  <span class="c1">// will log hi Daniel</span>

<span class="c1">// call and apply immediate runs the function</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">greet</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">student</span><span class="p">,</span> <span class="s1">'hi'</span><span class="p">)</span>
  <span class="c1">// will log hi Daniel</span>

<span class="c1">// use apply when you</span>
<span class="c1">// don't know how many parameters</span>
<span class="c1">// you will pass into the function</span>
<span class="kd">let</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'hi'</span><span class="p">]</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">greet</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">student</span><span class="p">,</span> <span class="nx">arr</span><span class="p">)</span>
  <span class="c1">// will log hi Daniel</span>
</code></pre></div></div>

<h2 id="es6-arrow-notation">ES6 arrow notation</h2>

<p>Shorthand for a function.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'hi'</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'hi'</span><span class="p">);</span>
</code></pre></div></div>

<p>The way this works with arrow function is that it binds this to the lexical scope instead of where it was invoked on.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">newPerson</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="na">greet</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'hi, '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">newPerson</span><span class="p">.</span><span class="nx">greet</span><span class="p">();</span>
  <span class="c1">// will log hi, undefined</span>
</code></pre></div></div>

<p>It console logs ‘hi, undefined’ because the arrow function is set to this by the lexical scope instead of where it was invoked on.</p>

<p>this is the global scope because it is not within another function, it is on the global execution so this points to the global object.</p>

<h2 id="lexical-scoping">lexical scoping</h2>

<p>explanation on how lexical scoping works.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setX</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">printX</span><span class="p">()</span> <span class="p">{</span>
 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">setX</span><span class="p">();</span>

<span class="nx">printX</span><span class="p">();</span>
  <span class="c1">// will log 42</span>
</code></pre></div></div>

<p><span class="highlight__code">printX()</span> prints 42 because it is on the global scope, <span class="highlight__code">printX()</span> can not see the x in the <span class="highlight__code">setX()</span> function because it is enclosed in a function.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setX</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>

 <span class="kd">function</span> <span class="nx">printX</span><span class="p">()</span> <span class="p">{</span>
 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
 <span class="p">}</span>

 <span class="nx">printX</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">setX</span><span class="p">();</span>
 <span class="c1">// will log 50</span>
</code></pre></div></div>

<p>now <span class="highlight__code">printX()</span> will console log 50 because it is the variable bounded closes the scope the console log was executed in.</p>

<p>lexical scoping determines how variables are bounded.</p>

<p>happy coding :)</p>

<p>Any question feel free to contact me brianmunozdev@gmail.com</p>

    </div>
  </section>
</div>


  <!-- for pagination -->


<h2>pagination...</h2>
<footer>
  <article >
    
    <div >
      <a  href="/2018/09/28/primitives-vs-objects/">
        <div
          style="background-image:url(/images/javascript.png)"></div>
        <div>
          <h3 >primitives vs objects.</h3>
        </div>
      </a>
    </div>
    

    
    <div>
      <a href="/2018/10/05/first-class-functions-in-javascript/">
        <div
          style="background-image:url(/images/javascript.png)"></div>
        <div>
          <h3>first class functions in JavaScript</h3>
        </div>
      </a>
      </div>
    
  </article>
</footer>

    </main>
  </body>
</html>
